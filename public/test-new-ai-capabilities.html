<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agent Capabilities Test</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
            font-size: 1.1em;
        }
        .content {
            padding: 30px;
        }
        .section {
            margin-bottom: 40px;
            padding: 25px;
            border: 2px solid #f1f2f6;
            border-radius: 10px;
            background: #fafafa;
        }
        .section h2 {
            color: #2c3e50;
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .section h3 {
            color: #34495e;
            margin-top: 25px;
        }
        .test-form {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid #e1e8ed;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #2c3e50;
        }
        input, textarea, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #3498db;
        }
        button {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: transform 0.2s;
        }
        button:hover {
            transform: translateY(-2px);
        }
        .result {
            margin-top: 20px;
            padding: 20px;
            border-radius: 8px;
            background: #f8f9fa;
            border-left: 4px solid #28a745;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
        }
        .error {
            border-left-color: #dc3545;
            background: #f8d7da;
            color: #721c24;
        }
        .example-box {
            background: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
        }
        .example-box h4 {
            margin: 0 0 10px 0;
            color: #0c5460;
        }
        .example-box code {
            background: #f1f3f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        .capability-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .capability-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #e1e8ed;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .capability-card h4 {
            color: #2c3e50;
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .quick-test {
            background: #e8f5e8;
            border: 1px solid #c3e6c3;
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
        }
        .quick-test h4 {
            margin: 0 0 10px 0;
            color: #155724;
        }
        .quick-test button {
            margin: 5px;
            padding: 8px 15px;
            font-size: 12px;
        }
        
        .seller-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .seller-checkbox {
            display: flex;
            align-items: center;
            padding: 10px;
            border: 1px solid #e1e8ed;
            border-radius: 6px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .seller-checkbox:hover {
            background: #f8f9fa;
            border-color: #3498db;
        }
        
        .seller-checkbox input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }
        
        .seller-checkbox label {
            margin: 0;
            cursor: pointer;
            font-weight: 500;
        }
        
        .seller-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e1e8ed;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .stat-card h4 {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-size: 14px;
        }
        
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #3498db;
        }
        
        .broadcast-preview {
            background: #e8f4fd;
            border: 1px solid #bee5eb;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .broadcast-preview h4 {
            margin: 0 0 10px 0;
            color: #0c5460;
        }
        
        .target-info {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 10px;
            margin: 10px 0;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ AI Agent Capabilities Test</h1>
            <p>Testing the Enhanced Flipkart Seller Assistant AI</p>
        </div>
        
        <div class="content">
            <div class="section">
                <h2>üöÄ Capability 1: Proactive Update Announcer</h2>
                <p>This capability translates technical release notes into business-friendly WhatsApp messages.</p>
                
                <div class="test-form">
                    <h3>Test Update Announcement</h3>
                    <div class="form-group">
                        <label for="updateVersion">Version:</label>
                        <input type="text" id="updateVersion" value="v3.1" placeholder="e.g., v3.1">
                    </div>
                    <div class="form-group">
                        <label for="technicalChanges">Technical Changes (one per line):</label>
                        <textarea id="technicalChanges" rows="4" placeholder="Enter technical changes...">The 'Daily Sales' widget now uses a caching layer to reduce load times from 5s to <1s
The 'Add New Product' form has been updated with a new field for 'HSN Code'
Database optimization for better performance
API rate limiting implemented for security</textarea>
                    </div>
                    <div class="form-group">
                        <label for="userFacingChanges">User-Facing Changes (one per line):</label>
                        <textarea id="userFacingChanges" rows="4" placeholder="Enter user-facing changes...">Daily Sales chart loads faster
New HSN Code field in product form
Improved dashboard performance
Enhanced security features</textarea>
                    </div>
                    <div class="form-group">
                        <label for="benefits">Business Benefits (one per line):</label>
                        <textarea id="benefits" rows="3" placeholder="Enter business benefits...">Get quicker access to sales data
Stay compliant with tax requirements
Better user experience
Enhanced data protection</textarea>
                    </div>
                    <button onclick="testUpdateAnnouncement()">Generate Update Announcement</button>
                    <div id="updateResult" class="result" style="display: none;"></div>
                </div>
                
                <div class="example-box">
                    <h4>üí° Example Technical Input:</h4>
                    <code>Release v3.1: The 'Daily Sales' widget on the dashboard homepage now uses a caching layer to reduce load times from 5s to <1s. The 'Add New Product' form has been updated with a new field for 'HSN Code'.</code>
                </div>
            </div>

            <div class="section">
                <h2>üìö Capability 2: On-Demand Feature Explainer</h2>
                <p>This capability provides step-by-step guides for dashboard features when sellers ask "How do I..." questions.</p>
                
                <div class="test-form">
                    <h3>Test Feature Explanation</h3>
                    <div class="form-group">
                        <label for="featureQuestion">Ask a "How do I..." or "What is..." question:</label>
                        <input type="text" id="featureQuestion" placeholder="e.g., How do I check my payments?" value="How do I check my payments?">
                    </div>
                    <button onclick="testFeatureExplanation()">Get Step-by-Step Guide</button>
                    <div id="featureResult" class="result" style="display: none;"></div>
                </div>
                
                <div class="quick-test">
                    <h4>üöÄ Quick Test Questions:</h4>
                    <button onclick="quickTest('How do I add a new product?')">Add Product</button>
                    <button onclick="quickTest('How do I update product stock?')">Update Stock</button>
                    <button onclick="quickTest('How do I check my orders?')">Check Orders</button>
                    <button onclick="quickTest('How do I upload CSV orders?')">Upload CSV</button>
                    <button onclick="quickTest('What is the Flipkart Seller Dashboard?')">Dashboard Info</button>
                    <button onclick="quickTest('How do I view business analytics?')">View Analytics</button>
                </div>
            </div>

            <div class="section">
                <h2>üîÑ Capability 3: Version Management</h2>
                <p>This capability explains differences between dashboard versions and pricing concepts.</p>
                
                <div class="test-form">
                    <h3>Test Version Information</h3>
                    <div class="form-group">
                        <label for="versionQuery">Ask about versions or pricing:</label>
                        <input type="text" id="versionQuery" placeholder="e.g., What's different in v2?" value="What's different in v2?">
                    </div>
                    <button onclick="testVersionInfo()">Get Version Information</button>
                    <div id="versionResult" class="result" style="display: none;"></div>
                </div>
                
                <div class="quick-test">
                    <h4>üöÄ Quick Version Tests:</h4>
                    <button onclick="quickVersionTest('What are the differences between v1 and v2?')">V1 vs V2</button>
                    <button onclick="quickVersionTest('Explain pricing concepts')">Pricing Concepts</button>
                    <button onclick="quickVersionTest('What version am I using?')">Current Version</button>
                    <button onclick="quickVersionTest('What are flat sales?')">Flat Sales</button>
                    <button onclick="quickVersionTest('How does profit margin work?')">Profit Margin</button>
                </div>
            </div>

            <div class="section">
                <h2>üéØ Integration Test</h2>
                <p>Test how all capabilities work together in the main chat interface.</p>
                
                <div class="capability-grid">
                    <div class="capability-card">
                        <h4>üì± WhatsApp-Style Messages</h4>
                        <p>All responses are formatted for WhatsApp with:</p>
                        <ul>
                            <li>Bold text using *asterisks*</li>
                            <li>Emojis for visual appeal</li>
                            <li>Bullet points for clarity</li>
                            <li>Step-by-step instructions</li>
                        </ul>
                    </div>
                    
                    <div class="capability-card">
                        <h4>ü§ñ Smart Detection</h4>
                        <p>The AI automatically detects:</p>
                        <ul>
                            <li>"How do I..." questions</li>
                            <li>"What is..." questions</li>
                            <li>Version-related queries</li>
                            <li>Pricing concept questions</li>
                        </ul>
                    </div>
                    
                    <div class="capability-card">
                        <h4>üíº Business-Focused</h4>
                        <p>All responses are:</p>
                        <ul>
                            <li>Non-technical language</li>
                            <li>Action-oriented</li>
                            <li>Seller-focused</li>
                            <li>Immediately actionable</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üë• Capability 4: Seller Management & Broadcast</h2>
                <p>Manage which sellers receive updates and announcements. Show changes to all sellers or target specific ones.</p>
                
                <div class="test-form">
                    <h3>Seller Selection & Broadcast</h3>
                    <div class="form-group">
                        <label for="broadcastType">Broadcast Type:</label>
                        <select id="broadcastType" onchange="toggleSellerSelection()">
                            <option value="all">üì¢ Broadcast to All Sellers</option>
                            <option value="specific">üéØ Target Specific Sellers</option>
                            <option value="category">üìÇ Target by Category</option>
                        </select>
                    </div>
                    
                    <div id="specificSellersSection" class="form-group" style="display: none;">
                        <label>Select Specific Sellers:</label>
                        <div id="sellerCheckboxes" class="seller-grid">
                            <!-- Will be populated dynamically -->
                        </div>
                    </div>
                    
                    <div id="categorySection" class="form-group" style="display: none;">
                        <label for="sellerCategory">Seller Category:</label>
                        <select id="sellerCategory">
                            <option value="electronics">Electronics Sellers</option>
                            <option value="fashion">Fashion Sellers</option>
                            <option value="home">Home & Garden Sellers</option>
                            <option value="accessories">Accessories Sellers</option>
                            <option value="office">Office Supplies Sellers</option>
                            <option value="premium">Premium Sellers</option>
                            <option value="new">New Sellers</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="announcementMessage">Custom Announcement Message:</label>
                        <textarea id="announcementMessage" rows="4" placeholder="Enter a custom message to include with the update...">Dear Seller,

We're excited to share some important updates with you that will help improve your business on Flipkart.

Best regards,
Flipkart Seller Support Team</textarea>
                    </div>
                    
                    <button onclick="testBroadcastAnnouncement()">Send Broadcast Announcement</button>
                    <div id="broadcastResult" class="result" style="display: none;"></div>
                </div>
                
                <div class="quick-test">
                    <h4>üöÄ Quick Broadcast Tests:</h4>
                    <button onclick="quickBroadcast('all', 'v2.0 update')">Broadcast V2.0 to All</button>
                    <button onclick="quickBroadcast('electronics', 'new features')">Electronics Sellers Only</button>
                    <button onclick="quickBroadcast('premium', 'exclusive features')">Premium Sellers Only</button>
                    <button onclick="quickBroadcast('new', 'getting started')">New Sellers Only</button>
                </div>
            </div>

            <div class="section">
                <h2>üìä Seller Analytics Dashboard</h2>
                <p>View seller statistics and manage seller-specific features.</p>
                
                <div class="test-form">
                    <h3>Seller Overview</h3>
                    <div class="seller-stats-grid">
                        <div class="stat-card">
                            <h4>üìà Total Sellers</h4>
                            <div id="totalSellers" class="stat-number">Loading...</div>
                        </div>
                        <div class="stat-card">
                            <h4>üü¢ Active Sellers</h4>
                            <div id="activeSellers" class="stat-number">Loading...</div>
                        </div>
                        <div class="stat-card">
                            <h4>üì¶ Products Listed</h4>
                            <div id="totalProducts" class="stat-number">Loading...</div>
                        </div>
                        <div class="stat-card">
                            <h4>üí∞ Total Revenue</h4>
                            <div id="totalRevenue" class="stat-number">Loading...</div>
                        </div>
                    </div>
                    
                    <button onclick="loadSellerStats()">Refresh Statistics</button>
                    <button onclick="exportSellerData()">Export Seller Data</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        async function testUpdateAnnouncement() {
            const version = document.getElementById('updateVersion').value;
            const technicalChanges = document.getElementById('technicalChanges').value.split('\n').filter(line => line.trim());
            const userFacingChanges = document.getElementById('userFacingChanges').value.split('\n').filter(line => line.trim());
            const benefits = document.getElementById('benefits').value.split('\n').filter(line => line.trim());

            const updateData = {
                version,
                technicalChanges,
                userFacingChanges,
                benefits
            };

            try {
                const response = await fetch('/test-update-announcement', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ updateData })
                });

                const result = await response.json();
                displayResult('updateResult', result);
            } catch (error) {
                displayError('updateResult', error.message);
            }
        }

        async function testFeatureExplanation() {
            const question = document.getElementById('featureQuestion').value;

            try {
                const response = await fetch('/test-feature-explanation', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ question })
                });

                const result = await response.json();
                displayResult('featureResult', result);
            } catch (error) {
                displayError('featureResult', error.message);
            }
        }

        async function testVersionInfo() {
            const query = document.getElementById('versionQuery').value;

            try {
                const response = await fetch('/test-version-info', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ query })
                });

                const result = await response.json();
                displayResult('versionResult', result);
            } catch (error) {
                displayError('versionResult', error.message);
            }
        }

        function quickTest(question) {
            document.getElementById('featureQuestion').value = question;
            testFeatureExplanation();
        }

        function quickVersionTest(query) {
            document.getElementById('versionQuery').value = query;
            testVersionInfo();
        }

        function displayResult(elementId, result) {
            const element = document.getElementById(elementId);
            element.style.display = 'block';
            element.className = 'result';
            
            if (result.success) {
                element.textContent = result.message;
            } else {
                element.className = 'result error';
                element.textContent = `Error: ${result.message}`;
            }
        }

        function displayError(elementId, error) {
            const element = document.getElementById(elementId);
            element.style.display = 'block';
            element.className = 'result error';
            element.textContent = `Error: ${error}`;
        }

        // Seller Management Functions
        function toggleSellerSelection() {
            const broadcastType = document.getElementById('broadcastType').value;
            const specificSection = document.getElementById('specificSellersSection');
            const categorySection = document.getElementById('categorySection');
            
            specificSection.style.display = 'none';
            categorySection.style.display = 'none';
            
            if (broadcastType === 'specific') {
                specificSection.style.display = 'block';
                loadSellerList();
            } else if (broadcastType === 'category') {
                categorySection.style.display = 'block';
            }
        }

        async function loadSellerList() {
            try {
                const response = await fetch('/api/sellers');
                const sellers = await response.json();
                
                const sellerCheckboxes = document.getElementById('sellerCheckboxes');
                sellerCheckboxes.innerHTML = '';
                
                sellers.forEach(seller => {
                    const checkboxDiv = document.createElement('div');
                    checkboxDiv.className = 'seller-checkbox';
                    checkboxDiv.innerHTML = `
                        <input type="checkbox" id="seller_${seller.id}" value="${seller.id}">
                        <label for="seller_${seller.id}">
                            <strong>${seller.business_name}</strong><br>
                            <small>${seller.username} ‚Ä¢ ${seller.category || 'General'}</small>
                        </label>
                    `;
                    sellerCheckboxes.appendChild(checkboxDiv);
                });
            } catch (error) {
                console.error('Error loading sellers:', error);
                // Fallback to demo sellers
                loadDemoSellers();
            }
        }

        function loadDemoSellers() {
            const demoSellers = [
                { id: 1, username: 'seller1', business_name: 'TechGadgets Store', category: 'Electronics' },
                { id: 2, username: 'seller2', business_name: 'Fashion Hub', category: 'Fashion' },
                { id: 3, username: 'seller3', business_name: 'Home Essentials', category: 'Home & Garden' },
                { id: 4, username: 'seller4', business_name: 'Accessory World', category: 'Accessories' },
                { id: 5, username: 'seller5', business_name: 'Office Supplies Pro', category: 'Office Supplies' },
                { id: 6, username: 'premium_seller', business_name: 'Premium Electronics', category: 'Premium' },
                { id: 7, username: 'new_seller', business_name: 'New Startup Store', category: 'New' }
            ];
            
            const sellerCheckboxes = document.getElementById('sellerCheckboxes');
            sellerCheckboxes.innerHTML = '';
            
            demoSellers.forEach(seller => {
                const checkboxDiv = document.createElement('div');
                checkboxDiv.className = 'seller-checkbox';
                checkboxDiv.innerHTML = `
                    <input type="checkbox" id="seller_${seller.id}" value="${seller.id}">
                    <label for="seller_${seller.id}">
                        <strong>${seller.business_name}</strong><br>
                        <small>${seller.username} ‚Ä¢ ${seller.category}</small>
                    </label>
                `;
                sellerCheckboxes.appendChild(checkboxDiv);
            });
        }

        async function testBroadcastAnnouncement() {
            const broadcastType = document.getElementById('broadcastType').value;
            const category = document.getElementById('sellerCategory').value;
            const customMessage = document.getElementById('announcementMessage').value;
            
            let targetSellers = [];
            
            if (broadcastType === 'specific') {
                const checkboxes = document.querySelectorAll('#sellerCheckboxes input[type="checkbox"]:checked');
                targetSellers = Array.from(checkboxes).map(cb => cb.value);
            } else if (broadcastType === 'category') {
                targetSellers = [category];
            } else {
                targetSellers = ['all'];
            }

            const broadcastData = {
                type: broadcastType,
                targetSellers,
                category,
                customMessage,
                updateData: {
                    version: 'v3.1',
                    technicalChanges: ['Performance improvements', 'New features added'],
                    userFacingChanges: ['Faster loading times', 'Better user interface'],
                    benefits: ['Improved user experience', 'Better performance']
                }
            };

            try {
                const response = await fetch('/test-broadcast-announcement', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(broadcastData)
                });

                const result = await response.json();
                displayBroadcastResult(result, broadcastData);
            } catch (error) {
                displayError('broadcastResult', error.message);
            }
        }

        function displayBroadcastResult(result, broadcastData) {
            const element = document.getElementById('broadcastResult');
            element.style.display = 'block';
            element.className = 'result';
            
            if (result.success) {
                let targetInfo = '';
                if (broadcastData.type === 'all') {
                    targetInfo = 'üì¢ Broadcast sent to ALL sellers';
                } else if (broadcastData.type === 'category') {
                    targetInfo = `üìÇ Broadcast sent to ${broadcastData.category} sellers`;
                } else {
                    targetInfo = `üéØ Broadcast sent to ${broadcastData.targetSellers.length} specific sellers`;
                }
                
                element.innerHTML = `
                    <div class="target-info">${targetInfo}</div>
                    <div class="broadcast-preview">
                        <h4>üìã Broadcast Preview:</h4>
                        <pre>${result.message}</pre>
                    </div>
                    <div class="broadcast-preview">
                        <h4>üìä Broadcast Statistics:</h4>
                        <ul>
                            <li>‚úÖ Successfully sent: ${result.sentCount || 'N/A'}</li>
                            <li>‚ùå Failed: ${result.failedCount || 'N/A'}</li>
                            <li>üì± Delivery method: WhatsApp</li>
                            <li>‚è∞ Sent at: ${new Date().toLocaleString()}</li>
                        </ul>
                    </div>
                `;
            } else {
                element.className = 'result error';
                element.textContent = `Error: ${result.message}`;
            }
        }

        function quickBroadcast(type, message) {
            document.getElementById('broadcastType').value = type;
            document.getElementById('announcementMessage').value = `Dear Seller,\n\n${message}\n\nBest regards,\nFlipkart Seller Support Team`;
            toggleSellerSelection();
            testBroadcastAnnouncement();
        }

        async function loadSellerStats() {
            try {
                const response = await fetch('/api/seller-stats');
                const stats = await response.json();
                
                document.getElementById('totalSellers').textContent = stats.totalSellers || '150';
                document.getElementById('activeSellers').textContent = stats.activeSellers || '142';
                document.getElementById('totalProducts').textContent = stats.totalProducts || '2,450';
                document.getElementById('totalRevenue').textContent = `‚Çπ${stats.totalRevenue || '15.2M'}`;
            } catch (error) {
                console.error('Error loading seller stats:', error);
                // Use demo data
                document.getElementById('totalSellers').textContent = '150';
                document.getElementById('activeSellers').textContent = '142';
                document.getElementById('totalProducts').textContent = '2,450';
                document.getElementById('totalRevenue').textContent = '‚Çπ15.2M';
            }
        }

        function exportSellerData() {
            const data = {
                timestamp: new Date().toISOString(),
                totalSellers: document.getElementById('totalSellers').textContent,
                activeSellers: document.getElementById('activeSellers').textContent,
                totalProducts: document.getElementById('totalProducts').textContent,
                totalRevenue: document.getElementById('totalRevenue').textContent
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `seller-stats-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }

        // Load seller stats on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadSellerStats();
        });
    </script>
</body>
</html> 
